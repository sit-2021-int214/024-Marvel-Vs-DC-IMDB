# Marvel VS DC IMDB Dataset

Dataset from : https://github.com/sit-2021-int214/024-Marvel-Vs-DC-IMDB/blob/main/MarvelDC_Clean.csv

## My Step
1. Define a question
2. Search datasets from Kaggle
3. Download Library and dataset
4. Explore the dataset from the original dataset
5. Cleaning Dataset
6. Exploratory Data Analysis

# Defind a question
1. คะแนน IMDB_Scose ค่าสูงสุดของ Marvel และ DC
2. ปี 2021 มีภาพยนต์ทั้งหมดกี่เรื่อง หาค่าเฉลี่ยของเวลาฉายทั้งหมดของปี 2021 
3. ประเภทของภาพยนต์มีอะไรบ้าง และ แต่ละประเภทมีเท่าไหร่
4. ภาพยนต์เรื่องไหนบ้างที่มีเนื้อหาไม่เหมาะสมกับเด็กและเยาวชนที่อายุต่ำกว่า 13 ปี ฝั่ง DC 
5. หาค่าโหวตต่ำสุด และ ผลรวมของทั้ง 2 ค่าย แล้วนำค่าผลรวมของทั้ง 2 ค่ายมาเปรียบเทียบกันว่าค่ายไหนมีผลโหวตมากกว่ากัน
6. จำนวนภาพยนต์เรื่องไหนที่มีเวลาฉายต่ำกว่า 100 นาที ทั้งฝั่งของ Marvel และ DC เลือกมา 5 อันดับ

# Clean Data
```{R}
Marvel_DC$Year_Started <- 
  Marvel_DC$Year_Started %>% str_sub(2,5) %>% str_remove("[III)]")%>% str_remove("[II)]")%>% str_remove("[I)]")%>% str_remove("[I) ]")%>%
  str_remove("[) (]")%>%str_remove("V") 

Marvel_DC <- Marvel_DC %>% filter(!is.na(Marvel_DC$Year_Started))
Marvel_DC <- Marvel_DC %>% filter(!is.na(Marvel_DC$RunTime))
Marvel_DC <- Marvel_DC %>% filter(!is.na(Marvel_DC$Rating))
Marvel_DC <- Marvel_DC %>% filter(!is.na(Marvel_DC$IMDB_Score))

Marvel_DC$RunTime <- Marvel_DC$RunTime %>% str_remove("min")

new_MarvelDC <- Marvel_DC %>% mutate(
  Genre = strsplit(Marvel_DC$Genre,","))
glimpse(new_MarvelDC)

new_MarvelDC <- Marvel_DC
View(new_MarvelDC)
```
```{R}
glimpse(new_MarvelDC)
```
```{R}
Rows: 1,300
Columns: 14
$ No           <dbl> 2, 3, 6, 7, 9, 10, 11, 12, 13, 15, 16, 17, 18, 19, 20, 21, 22, 24, 25, 26, 27, 28, 31, 32, 33, 34, 35, 40, 41, 42, 49, 52, 55, 56, 58, 61, 62, 63, 64, 65, 66, 67, 70, 71, 72, 73, 74, ~
$ Movie_Name   <chr> "The Falcon and the Winter Soldier", "WandaVision", "Avengers: Endgame", "Guardians of the Galaxy", "Spider-Man: Far from Home", "Thor: Ragnarok", "Avengers: Infinity War", "Black Pan~
$ Year_Started <dbl> 2021, 2021, 2019, 2014, 2019, 2017, 2018, 2018, 2019, 2017, 2015, 2011, 2017, 2011, 2008, 2016, 2012, 2019, 2016, 2015, 2014, 2013, 2013, 2010, 2007, 2018, 2008, 2019, 2018, 2007, 201~
$ Genre        <list> <"Action", "Adventure", "Drama">, <"Action", "Comedy", "Drama">, <"Action", "Adventure", "Drama">, <"Action", "Adventure", "Comedy">, <"Action", "Adventure", "Sci-Fi">, <"Action", "A~
$ RunTime      <chr> "50 ", "350 ", "181 ", "121 ", "129 ", "130 ", "149 ", "134 ", "123 ", "133 ", "141 ", "124 ", "136 ", "115 ", "126 ", "147 ", "143 ", "90 ", "115 ", "117 ", "136 ", "130 ", "112 ", "~
$ Rating       <chr> "TV-14", "TV-PG", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "PG-13", "R", "PG-13", "PG-13", "PG-13"~
$ Director     <chr> NA, NA, "AnthonyRusso,JoeRusso", "JamesGunn", "JonWatts", "TaikaWaititi", "AnthonyRusso,JoeRusso", "RyanCoogler", "AnnaBoden,RyanFleck", "JonWatts", "JossWhedon", "JoeJohnston", "Jame~
$ Actor        <chr> "AnthonyMackie,SebastianStan,WyattRussell,ErinKellyman", "ElizabethOlsen,PaulBettany,KathrynHahn,TeyonahParris", "RobertDowneyJr.,ChrisEvans,MarkRuffalo,ChrisHemsworth", "ChrisPratt,V~
$ Description  <chr> "Following the events of 'Avengers: Endgame,' Sam Wilson/Falcon and Bucky Barnes/Winter Soldier team up in a global adventure that tests their abilities -- and their patience.", "Blen~
$ IMDB_Score   <dbl> 7.5, 8.1, 8.4, 8.0, 7.5, 7.9, 8.4, 7.3, 6.9, 7.4, 7.3, 6.9, 7.6, 7.0, 7.9, 7.8, 8.0, 6.1, 7.5, 7.3, 7.7, 7.1, 6.9, 7.0, 6.2, 7.0, 6.7, 6.8, 7.0, 5.6, 8.1, 5.9, 6.5, 5.9, 8.0, 6.5, 7.6~
$ Metascore    <dbl> NA, NA, 78, 76, 69, 74, 68, 88, 64, 73, 66, 66, 67, 57, 79, 75, 69, 44, 72, 64, 70, 62, 54, 57, 59, 70, 61, 67, 71, 45, NA, 30, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,~
$ Votes        <dbl> 105557, 174710, 880911, 1066222, 348047, 615860, 881638, 652032, 470319, 532946, 769385, 761947, 589362, 764898, 960817, 686621, 1283515, 84999, 619963, 588231, 756882, 772986, 611700~
$ USA_Gross    <chr> NA, NA, "$858.37M", "$333.18M", "$390.53M", "$315.06M", "$678.82M", "$700.06M", "$426.83M", "$334.20M", "$459.01M", "$176.65M", "$389.81M", "$181.03M", "$318.41M", "$408.08M", "$623.2~
$ Category     <chr> "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Marvel", "Ma~
```

# Step 0 Loading library and dataset
```{R}
install.packages("tidyr")

#library
library(readr)
library(assertive)
library(stringr)
library(dplyr)
library(tidyr)

#DataSet
Marvel_DC <- read.csv("C:\\Users\\user\\Desktop\\int214\\MarvelDC\\MarvelDC_Clean.csv")
View(Marvel_DC)
```
### 1.) คะแนน IMDB ค่าสูงสุดของ Marvel และ DC
## DC
```{R}
sum((Marvel_DC$Category == "DC" & Marvel_DC$IMDB_Score == max(Marvel_DC$IMDB_Score))) 
Marvel_DC %>% select(Movie_Name,IMDB_Score,Category)%>%
filter(Marvel_DC$Category == "DC" & Marvel_DC$IMDB_Score == max(Marvel_DC$IMDB_Score))
```
#### Result : คะแนน IMDB ค่าสูงสุดของ DC คือ 9.6 มี 2 เรื่องคือ Young Justice และ The Flash
```{R}
Movie_Name       IMDB_Score Category
1 Young Justice    9.6       DC
2 The Flash        9.6       DC
```
## Marvel
```{R}
sum((Marvel_DC$Category == "Marvel" & Marvel_DC$IMDB_Score == max(Marvel_DC$IMDB_Score))) #1
Marvel_DC %>% select(Movie_Name,IMDB_Score,Category)%>% 
filter(Marvel_DC$Category == "Marvel" & Marvel_DC$IMDB_Score == max(Marvel_DC$IMDB_Score))
```
#### Result : คะแนน IMDB ค่าสูงสุดของ Marvel คือ 9.6 มี 1 เรื่อง คือ Agents of S.H.I.E.L.D.
```{R}
Movie_Name                IMDB_Score  Category
1 Agents of S.H.I.E.L.D.     9.6       Marvel
```
### 2. ปี 2021 มีภาพยนต์ทั้งหมดกี่เรื่อง หาค่าเฉลี่ยของเวลาฉายทั้งหมดของปี 2021 
```{R}
sum(Marvel_DC$Year_Started == 2021) 
mean(Marvel_DC$RunTime) 
```
```{R}
distinct(Marvel_DC,Marvel_DC$Movie_Name)
```
#### Result ปี 2021 มีภาพยนต์ทั้งหมด 29 เรื่อง ค่าเฉลี่ยคือ 42.06533 และรายชื่อภาพยนต์ทั้งหมดในแต่ละปีแบบไม่ซ้ำ คือ


### 3. ประเภทของภาพยนต์มีอะไรบ้าง และ แต่ละประเภทมีเท่าไหร่
```{R}

```
#### Result : ประเภทของภาพยนต์ทั้งหมด คือ

### 4.) ภาพยนต์เรื่องไหนบ้างที่มีเนื้อหาไม่เหมาะสมกับเด็กและเยาวชนที่อายุต่ำกว่า 13 ปี ฝั่ง DC
```{R}
factor(Marvel_DC$Rating)
RatingMovie <- factor(Marvel_DC$Rating)
Marvel_DC %>% select(Movie_Name ,Rating ,Category)%>%
filter(RatingMovie == "PG-13" & Marvel_DC$Category == "DC")
```
#### Result :  ภาพยนต์เรื่องไหนบ้างที่มีเนื้อหาไม่เหมาะสมกับเด็กและเยาวชนที่อายุต่ำกว่า 13 ปี ฝั่ง DC คือ

### 5.) หาค่าโหวตต่ำสุด และ ผลรวมของทั้ง 2 ค่าย แล้วนำค่าผลรวมของทั้ง 2 ค่ายมาเปรียบเทียบกันว่าค่ายไหนมีผลโหวตมากกว่ากัน
```{R}
#MIN DC 
factor(Marvel_DC$Votes)
MinDC <- Marvel_DC %>% select(Movie_Name,Votes,Category) %>% filter( Marvel_DC$Votes == min(Marvel_DC$Votes) & Marvel_DC$Category == "DC")
distinct(MinDC)
#MIN Marvel

#ผลรวม Marvel
SumMarvel <- sum(Marvel_DC$Votes & Marvel_DC$Category == "Marvel") 
#ผลรวม DC
SumDC <- sum(Marvel_DC$Votes & Marvel_DC$Category == "DC") 

ifelse(SumMarvel > SumDC ,"Marvel","DC")
```
#### Result

### 6.) จำนวนภาพยนต์เรื่องไหนที่มีเวลาฉายต่ำกว่า 100 นาที ทั้งฝั่งของ Marvel และ DC เลือกมา 5 อันดับ
```{R}
```
#### Result
